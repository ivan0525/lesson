<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  >
  <meta
    http-equiv="X-UA-Compatible"
    content="ie=edge"
  >
  <title>Document</title>
</head>

<body>
  <!--
     let s = '2018-12-28 18:30:50'
    写一方法: addDate()，
    传入 s 参数后，返回值为：以 s 中的日期时间加上 5 天 10 小时 20 分 30 秒后，重新生成的日期时间字符串
    -->
  <input
    id="dateStr"
    type="text"
    required
  >
  <button id="btn">点击</button>
  <p class="resultStr"></p>

  <script>
    var btn = document.getElementById('btn');
    var resultStr = document.getElementsByClassName('resultStr')[0];

    btn.addEventListener('click', function (ev) {
      var dateStr = document.getElementById('dateStr').value;
      resultStr.innerText = addDate(dateStr);
    })
    function addDate(date) {
      let dateReg = /^(\d{4})-(\d{2})-(\d{2})(\s)(\d{2}):(\d{2}):(\d{2})$/g;
      if (date.match(dateReg)) {
        var millisecond = (((5 * 24 + 10) * 60 + 20) * 60 + 30) * 1000;
        var result = new Date((new Date(date)).getTime() + millisecond);
        var year = result.getFullYear(),
          month = result.getMonth() + 1,
          day = result.getDate(),
          hour = result.getHours(),
          minute = result.getMinutes(),
          second = result.getSeconds();
        var newTime = year + '-'
          + month.toString().padStart(2, '0') + '-'
          + day.toString().padStart(2, '0') + ' '
          + hour.toString().padStart(2, '0') + ':'
          + minute.toString().padStart(2, '0') + ':'
          + second.toString().padStart(2, '0')
        return newTime;
      } else {
        return '请输入日期字符串，格式为：YYYY-mm-dd HH:mm:ss'
      }


    }
  </script>
</body>

</html>
